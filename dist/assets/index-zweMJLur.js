/* empty css              */import{p as e}from"./vendor-DTGZu_M2.js";import{l as t}from"./socket-DiFiA0mu.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:1,subtree:1})}function t(e){if(e.ep)return;e.ep=1;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const n=t("http://localhost:3000"),o=document.getElementById("chatBody"),s=document.getElementById("chatInput"),r=document.querySelector(".send-btn"),a=document.getElementById("username-popup"),i=document.getElementById("username-input"),l=document.getElementById("username-submit");let c=localStorage.getItem("username");c?n.emit("set username",c):a.style.display="flex";const d=document.createElement("p");function m(e){o.appendChild(e),o.scrollTop=o.scrollHeight}function u(){const e=s.value.trim();if(e){const t={text:e,username:c,timestamp:Date.now()};n.emit("chat",t),s.value=""}}d.style.color="#ff0000",d.style.display="none",d.textContent="This name has been taken, please use another one",document.querySelector(".login-content").appendChild(d),l.addEventListener("click",(()=>{c=i.value.trim(),c&&n.emit("check username",c)})),n.on("username response",(e=>{e?d.style.display="block":(localStorage.setItem("username",c),a.style.display="none",n.emit("user joined",c),d.style.display="none")})),n.on("username taken",(()=>{d.style.display="block"})),n.on("user joined",(e=>{const t=document.createElement("div");t.className="system-message",t.innerHTML=`<i><strong>${e}</strong> entered the chat</i>`,m(t)})),n.on("user left",(e=>{const t=document.createElement("div");t.className="system-message",t.innerHTML=`<i><strong>${e}</strong> left the chat</i>`,m(t)})),n.on("chat",(e=>{const t=document.createElement("div");t.className="message "+(e.username===c?"mine":"others"),t.innerHTML=`\n        <span class="user-id">${e.username}:</span>\n        <span class="text">${e.text}</span>\n        <span class="timestamp">${new Date(e.timestamp).toLocaleTimeString()}</span>\n    `,m(t)})),s.addEventListener("keypress",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())})),r.addEventListener("click",(()=>{u()}));let p=0;const f=[10,0,40],h=[255,75,180],y=[80,40,255],g=[180,40,255];let v,w=.1,k=.9,L=10,E=1,b=0,x=1200;new e((e=>{e.setup=()=>{let t=e.createCanvas(e.windowWidth,e.windowHeight,e.WEBGL);t.position(0,0),t.style("z-index","-1"),v=0},e.draw=()=>{e.background(f),e.random(1)<w&&(b=1),e.push(),e.translate(0,-280,-500),e.noStroke();for(let t=0;t<e.height/2;t++){let n=e.map(t,0,e.height/2,0,1),o=e.lerpColor(e.color(80,0,100),e.color(255,60,180),n);b?(e.fill(e.color(255,0,0)),e.rect(-e.width+e.random(-L,L)*E,t+e.random(-2,2),2*e.width,1),e.fill(e.color(0,255,0)),e.rect(-e.width+e.random(-L,L)*E,t+e.random(-2,2),2*e.width,1),e.fill(e.color(0,0,255)),e.rect(-e.width+e.random(-L,L)*E,t+e.random(-2,2),2*e.width,1)):(e.fill(o),e.rect(-e.width,t,2*e.width,1))}e.pop(),b?(e.rotateX(v+e.random(-.05,.05)*E),e.translate(e.random(-5,5)*E,100,0)):(e.rotateX(v),e.translate(0,100,0)),e.push(),e.translate(0,-500,-1e3),e.noStroke(),b?(e.fill(h[0],h[1],h[2],50),e.circle(e.random(-L,L)*E,e.random(-L,L)*E,225)):(e.fill(h[0],h[1],h[2],50),e.circle(0,0,225)),e.fill(h[0],h[1],h[2]),e.circle(0,0,150),e.pop(),e.strokeWeight(1);for(let t=0;t<2e3;t+=30){let n=e.map(t,0,2e3,255,0);if(e.stroke(y[0],y[1],y[2],n),b){let n=e.random(-L,L)*E;e.line(-1200+n,0,t+p,x+n,0,t+p)}else e.line(-1200,0,t+p,x,0,t+p)}for(let t=-1200;t<=x;t+=30){let n=e.dist(t,0,0,0),o=e.map(n,0,x,255,100);if(e.stroke(g[0],g[1],g[2],o),b){let n=e.random(-L,L)*E;e.line(t+n,0,0+p,t+n,0,2e3+p)}else e.line(t,0,0+p,t,0,2e3+p)}b&&e.random(1)<k&&(b=0),p-=.5,p<=-30&&(p=0)},e.windowResized=()=>{e.resizeCanvas(e.windowWidth,e.windowHeight)}}));const I=document.querySelector(".maximize"),S=document.querySelector(".msn-window"),z=document.querySelector(".title-bar");let B,C,$,q,H=0,N=0,T=0;z.addEventListener("mousedown",(function(e){if(S.classList.contains("maximized"))return;$=e.clientX-N,q=e.clientY-T,e.target===z&&(H=1)})),document.addEventListener("mousemove",(function(e){H&&(e.preventDefault(),B=e.clientX-$,C=e.clientY-q,N=B,T=C,t=B,n=C,S.style.transform=`translate(${t}px, ${n}px)`);var t,n})),document.addEventListener("mouseup",(function(e){$=B,q=C,H=0})),I.addEventListener("click",(()=>{S.classList.toggle("maximized"),S.classList.contains("maximized")?(H=0,z.style.cursor="default"):z.style.cursor="grab",I.textContent=S.classList.contains("maximized")?"❐":"□"})),n.on("glitch-control",(e=>{switch(e.parameter){case"glitchProbability":w=e.value;break;case"glitchDecay":k=e.value;break;case"channelOffset":L=e.value;break;case"glitchIntensity":E=e.value;break;case"cameraAngle":v=Math.PI/3*e.value}}));
